(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{425:function(e,a,t){"use strict";t.r(a);var s=t(35),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"keyring"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#keyring"}},[e._v("#")]),e._v(" Keyring")]),e._v(" "),t("p",[e._v('The keyring holds the private/public keypairs used to interact with the node. For instance, a validator key needs to be set up before running the node, so that blocks can be correctly signed. The private key can be stored in different locations, called "backends", such as a file or the operating system\'s own key storage.')]),e._v(" "),t("h3",{attrs:{id:"add-keys"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-keys"}},[e._v("#")]),e._v(" Add keys")]),e._v(" "),t("p",[e._v("You can use the following commands for help with the keys command and for more information about a particular subcommand, respectively:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("sophond keys "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("command"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v(" --help\n")])])]),t("p",[e._v("To create a new key in the keyring, run the add subcommand with a <key_name> argument. You will have to provide a password for the newly generated key. This key will be used in the next section.")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("sophond keys "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" mykey\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Put the generated address in a variable for later use.")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("MY_VALIDATOR_ADDRESS")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$(")]),e._v("sophond keys show mykey -a"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v(")")])]),e._v("\n")])])]),t("p",[e._v("This command generates a new 24-word mnemonic phrase, persists it to the relevant backend, and outputs information about the keypair. If this keypair will be used to hold value-bearing tokens, be sure to write down the mnemonic phrase somewhere safe!")]),e._v(" "),t("p",[e._v("By default, the keyring generates a "),t("code",[e._v("eth_secp256k1")]),e._v(" key. The keyring also supports ed25519 keys, which may be created by passing the "),t("code",[e._v("--algo")]),e._v(" flag. A keyring can of course hold both types of keys simultaneously.")]),e._v(" "),t("h3",{attrs:{id:"keyring-backends"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#keyring-backends"}},[e._v("#")]),e._v(" Keyring Backends")]),e._v(" "),t("h4",{attrs:{id:"os"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#os"}},[e._v("#")]),e._v(" OS")]),e._v(" "),t("p",[e._v("The os backend relies on operating system-specific defaults to handle key storage securely. Typically, an operating system's credential sub-system handles password prompts, private keys storage, and user sessions according to the user's password policies. Here is a list of the most popular operating systems and their respective passwords manager:")]),e._v(" "),t("ul",[t("li",[e._v("macOS (since Mac OS 8.6): "),t("a",{attrs:{href:"https://support.apple.com/en-gb/guide/keychain-access/welcome/mac",target:"_blank",rel:"noopener noreferrer"}},[e._v("Keychain"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("Windows: "),t("a",{attrs:{href:"https://docs.microsoft.com/en-us/windows/win32/secauthn/credentials-management",target:"_blank",rel:"noopener noreferrer"}},[e._v("Credentials Management API"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("GNU/Linux:\n"),t("ul",[t("li",[t("a",{attrs:{href:"https://gitlab.gnome.org/GNOME/libsecret",target:"_blank",rel:"noopener noreferrer"}},[e._v("libsecret"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://api.kde.org/frameworks/kwallet/html/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("kwallet"),t("OutboundLink")],1)])])])]),e._v(" "),t("p",[e._v("GNU/Linux distributions that use GNOME as default desktop environment typically come with "),t("a",{attrs:{href:"https://wiki.gnome.org/Apps/Seahorse",target:"_blank",rel:"noopener noreferrer"}},[e._v("Seahorse"),t("OutboundLink")],1),e._v(". Users of KDE based distributions are commonly provided with\n"),t("a",{attrs:{href:"https://userbase.kde.org/KDE_Wallet_Manager",target:"_blank",rel:"noopener noreferrer"}},[e._v("KDE Wallet Manager"),t("OutboundLink")],1),e._v(". Whilst the former is in fact a "),t("code",[e._v("libsecret")]),e._v(" convenient frontend, the latter is a "),t("code",[e._v("kwallet")]),e._v(" client.")]),e._v(" "),t("p",[e._v("The recommended backends for headless environments are "),t("code",[e._v("file")]),e._v(" and "),t("code",[e._v("pass")]),e._v(".")]),e._v(" "),t("h4",{attrs:{id:"file"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#file"}},[e._v("#")]),e._v(" File")]),e._v(" "),t("p",[e._v("The file stores the keyring encrypted within the app's configuration directory. This keyring will request a password each time it is accessed, which may occur multiple times in a single command resulting in repeated password prompts. If using bash scripts to execute commands using the file option you may want to utilize the following format for multiple prompts:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# assuming that KEYPASSWD is set in the environment")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("yes")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$KEYPASSWD")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" sophond keys "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" me\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("yes")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$KEYPASSWD")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("|")]),e._v(" sophond keys show me\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# start evmosd with keyring-backend flag")]),e._v("\nsophond --keyring-backend"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("file start\n")])])]),t("p",[e._v("The first time you add a key to an empty keyring, you will be prompted to type the password twice.")]),e._v(" "),t("h4",{attrs:{id:"password-store"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#password-store"}},[e._v("#")]),e._v(" Password Store")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("pass")]),e._v(" backend uses the "),t("a",{attrs:{href:"https://www.passwordstore.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("pass"),t("OutboundLink")],1),e._v("utility to manage on-disk encryption of keys' sensitive data and metadata.\nKeys are stored inside "),t("code",[e._v("gpg")]),e._v(" encrypted files within app-specific directories.\n"),t("code",[e._v("pass")]),e._v(" is available for the most popular UNIX operating systems as well as GNU/Linux distributions.\nPlease refer to its manual page for information on how to download and install it.")]),e._v(" "),t("p",[e._v("The password store must be set up prior to first use:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("pass init "),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("GPG_KEY_ID"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),t("p",[e._v("Replace "),t("code",[e._v("<GPG_KEY_ID>")]),e._v(" with your GPG key ID. You can use your personal GPG key or an alternative one you may want to use specifically to encrypt the password store.")]),e._v(" "),t("h4",{attrs:{id:"kde-wallet-manager"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kde-wallet-manager"}},[e._v("#")]),e._v(" KDE Wallet Manager")]),e._v(" "),t("p",[e._v("The "),t("code",[e._v("kwallet")]),e._v(" backend uses "),t("code",[e._v("KDE Wallet Manager")]),e._v(", which comes installed by default on the GNU/Linux distributions that ships\nKDE as default desktop environment. Please refer to "),t("a",{attrs:{href:"https://docs.kde.org/stable5/en/kwalletmanager/kwallet5/",target:"_blank",rel:"noopener noreferrer"}},[e._v("KWallet Handbook"),t("OutboundLink")],1),e._v(" for more information.")])])}),[],!1,null,null,null);a.default=r.exports}}]);